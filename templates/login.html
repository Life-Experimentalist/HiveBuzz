<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Login to HiveBuzz</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<style>
			body {
				background-color: #f5f5f5;
				padding-top: 2rem;
			}
			.login-container {
				max-width: 500px;
				margin: 0 auto;
				background: white;
				padding: 2rem;
				border-radius: 10px;
				box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
			}
			.logo {
				text-align: center;
				margin-bottom: 2rem;
			}
			.login-options {
				margin-top: 1rem;
			}
			.login-divider {
				margin: 2rem 0;
				text-align: center;
				position: relative;
			}
			.login-divider:before {
				content: "";
				position: absolute;
				top: 50%;
				left: 0;
				right: 0;
				border-top: 1px solid #ddd;
				z-index: 1;
			}
			.login-divider span {
				background: white;
				padding: 0 1rem;
				position: relative;
				z-index: 5;
			}
			#keychain-notice {
				display: none;
				margin: 1rem 0;
				padding: 1rem;
				background-color: #fff3cd;
				border: 1px solid #ffecb5;
				border-radius: 5px;
				color: #856404;
			}
			#qrcode-container {
				text-align: center;
				display: none;
				margin-top: 1rem;
				padding: 1rem;
				border: 1px solid #ddd;
				border-radius: 5px;
			}
			#hiveauth-loading {
				display: none;
				text-align: center;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="login-container">
				<div class="logo">
					<h2>HiveBuzz</h2>
					<p class="text-muted">Connect with Hive blockchain</p>
				</div>

				<div class="login-keychain">
					<h3>Login with Hive Keychain</h3>
					<div class="form-group mb-3">
						<label for="keychain-username">Hive Username</label>
						<input
							type="text"
							class="form-control"
							id="keychain-username"
							placeholder="Enter your Hive username"
						/>
					</div>
					<button id="keychain-login-btn" class="btn btn-primary">
						Login with Hive Keychain
					</button>

					<div id="keychain-notice" class="alert alert-warning">
						<strong>Hive Keychain Not Found!</strong> Please install
						the Hive Keychain browser extension to continue.
						<div class="mt-2">
							<a
								href="https://hive-keychain.com/"
								target="_blank"
								class="btn btn-sm btn-warning"
								>Get Hive Keychain</a
							>
						</div>
					</div>
				</div>

				<div class="login-divider">
					<span>OR</span>
				</div>

				<div class="login-hiveauth">
					<h3>Login with HiveAuth</h3>
					<div id="hiveauth-container">
						<div class="form-group mb-3">
							<label for="hiveauth-username">Hive Username</label>
							<input
								type="text"
								class="form-control"
								id="hiveauth-username"
								placeholder="Enter your Hive username"
							/>
						</div>
						<button id="hiveauth-login-btn" class="btn btn-success">
							Login with HiveAuth
						</button>

						<div id="hiveauth-loading" class="mt-3">
							<div
								class="spinner-border text-primary"
								role="status"
							>
								<span class="visually-hidden">Loading...</span>
							</div>
							<p>Connecting to HiveAuth...</p>
						</div>

						<div id="qrcode-container" class="mt-3">
							<p>
								Scan this QR code with your HiveAuth mobile app
							</p>
							<div id="hiveauth-qrcode"></div>
							<p class="mt-2">Waiting for authentication...</p>
							<div
								class="spinner-border text-primary"
								role="status"
							>
								<span class="visually-hidden">Loading...</span>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Scripts -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>
		<script src="{{ url_for('static', filename='js/keychain.js') }}"></script>
		<script src="{{ url_for('static', filename='js/hiveauth.js') }}"></script>
	</body>
</html>
