{% extends 'base.html' %} {% block title %}{{ post.title }} - HiveBuzz{%
endblock %} {% block content %}
<div class="post-detail-container">
	<div class="post-detail">
		<h1 class="post-title">{{ post.title }}</h1>

		<div class="post-meta">
			<a
				href="{{ url_for('profile', username=post.author) }}"
				class="post-author"
			>
				<span>@{{ post.author }}</span>
			</a>
			<span class="post-date">{{ post.created }}</span>
		</div>

		<div class="post-content">{{ post.body | safe }}</div>

		{% if post.tags %}
		<div class="post-tags">
			{% for tag in post.tags %}
			<span class="tag">{{ tag }}</span>
			{% endfor %}
		</div>
		{% endif %}

		<div class="post-actions">
			<button class="upvote-btn" id="upvote-post">üëç Upvote</button>
			<button class="reblog-btn" id="reblog-post">üîÑ Reblog</button>
			<button class="comment-btn" id="add-comment">üí¨ Comment</button>
		</div>
	</div>

	<div class="post-comments">
		<h3>Comments</h3>
		<div id="comment-form-container" style="display: none">
			<form id="comment-form" class="comment-form">
				<textarea
					id="comment-text"
					rows="3"
					placeholder="Write your comment here..."
				></textarea>
				<button type="button" id="submit-comment" class="btn">
					Post Comment
				</button>
				<button
					type="button"
					id="cancel-comment"
					class="btn btn-secondary"
				>
					Cancel
				</button>
			</form>
		</div>
		<div id="comments-list">
			<p class="placeholder-text">
				No comments yet. Be the first to comment!
			</p>
		</div>
	</div>
</div>
{% endblock %} {% block scripts %}
<script>
	document.addEventListener("DOMContentLoaded", function () {
		// Toggle comment form
		const addCommentBtn = document.getElementById("add-comment");
		const commentFormContainer = document.getElementById(
			"comment-form-container"
		);
		const cancelCommentBtn = document.getElementById("cancel-comment");

		if (addCommentBtn && commentFormContainer) {
			addCommentBtn.addEventListener("click", function () {
				commentFormContainer.style.display = "block";
			});
		}

		if (cancelCommentBtn) {
			cancelCommentBtn.addEventListener("click", function () {
				commentFormContainer.style.display = "none";
			});
		}

		// Upvote functionality (demo only)
		const upvoteBtn = document.getElementById("upvote-post");
		if (upvoteBtn) {
			upvoteBtn.addEventListener("click", function () {
				if (window.hive_keychain) {
					alert(
						"In a real implementation, this would broadcast an upvote to the Hive blockchain."
					);
				} else {
					alert("Hive Keychain extension is required for upvoting.");
				}
			});
		}

		// Reblog functionality (demo only)
		const reblogBtn = document.getElementById("reblog-post");
		if (reblogBtn) {
			reblogBtn.addEventListener("click", function () {
				if (window.hive_keychain) {
					alert(
						"In a real implementation, this would broadcast a reblog operation to the Hive blockchain."
					);
				} else {
					alert(
						"Hive Keychain extension is required for reblogging."
					);
				}
			});
		}
	});
</script>
{% endblock %}
